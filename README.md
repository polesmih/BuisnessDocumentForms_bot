# BuisnessDocumentForms_bot (java)  
Telegram-бот для отправки пользователю готового к заполнению и печати файла Word, содержащего форму юридического или процедурного документа из представленных на выбор.  

Бот в Telegram (измененная версия, отличная от представленного кода программы): [@SimpleForms_bot](https://t.me/SimpleForms_bot)  
[Статья на Хабр](https://habr.com/ru/post/723580/)  

## Лицензия  
Этот проект лицензирован по лицензии MIT.  
Подробности в файле LICENSE  

## Автор  
Олеся Пономарева  
Александр Малахов  

## В проекте использованы:  
Java  
Hiberbate  
MySQL  
GitHub - repository  
Telegram Bot API  

Полный список используемых зависимостей и версий компонентов можно найти в pom.xml  

В проект добавлена база данных для учета пользователей, которая развернута на виртуальном хостинге https://beget.com/ru.

### Демонстрация функционала:  

1. Активация бота  
![IMG_4686](https://user-images.githubusercontent.com/77875474/223326907-4186f656-2a6b-4412-9a08-dc6094c4238b.PNG)  

2.Вызов клавиатуры с типами документов  
![IMG_4687](https://user-images.githubusercontent.com/77875474/223326940-0ee07e7e-a9b7-477f-97c9-f20a9ba274bd.PNG)  

3. Пример списка форм судебных документов  
![IMG_4688](https://user-images.githubusercontent.com/77875474/223326967-3b05755c-6eeb-47ac-ab51-dc4bbb81c479.PNG)  

4. Отправка запроса на форму судебного документа и загрузка выбранной формы  
![IMG_4689](https://user-images.githubusercontent.com/77875474/223327018-08c00f80-fad5-432e-bfba-ddf1abe6880c.PNG) 

### Сборка и запуск бота:  
Запуск бота в среде разработки (IntelliJ IDEA) производится через запуск класса Main.java.  
Также возможно создать исполняемый jar-файл и запускать его (как в среде разработки, так и на витртуальных ресурсах). В проекте (pom.xml) реализована возможность создания такого файла через плагин Apache Assembly:  
![Сборка](https://user-images.githubusercontent.com/77875474/223328401-9d066943-3ebd-4e23-954d-094c659b4ec9.jpg)  

Выгружен telegram-бот на VPS: https://beget.com/ru/vps. Для выгрузки потребовалось:  
- зарегистрироваться на https://beget.com/ru и арендовать VPS (у меня - на Ubuntu 22.04 с SSL-сертификатом);  
- для общения с VPS установить клиент удалённого доступа PuTTY;  
- для передать на сервер файлов бота установить FTP-клиент - FileZilla.  

Процесс выгрузки:  
1. Открываем PuTTY и подключаемся к нашему серверу. Все требуемые данные для входа должен предоставить провайдер после аренды VPS.  
![PuTTY](https://user-images.githubusercontent.com/77875474/223329856-ab2ed3fa-3757-4bfb-8500-acabb4891ead.jpg)  

2. В открывшемся терминале ввести имя пользователя и пароль.  
Установить необходимые пакеты, введя команды:  
- Обновиться: apt update  
- Установить нужный пакет Java. Поскольку в проекте использована 11-я версия, вводилась команда: apt-get install openjdk-11-jdk. Для проверки, установилась ли нужная версия, ввести: java -version.  
- Установить утилиту screen (консольная утилита позволяющая в действующей SSH сессии открывать неограниченное количество независимых виртуальных терминалов, чтобы после завершения удалённого подключения бот продолжал работать в независимом режиме: install screen.  
3. Перенести бот на сервер: в FileZilla полностью перенести всю директорию с приложением в root (вместе с исполняемым jar-файлом)  
![FileZilla](https://user-images.githubusercontent.com/77875474/223331799-376707fc-5e12-4da9-a45d-f7c731b01adf.jpg)  
4. Запустить бота на сервере:  
- в PuTTY выполнить команду, создающую screen, который будет поддерживать непрерывную работу приложения: screen -S docBot (где docBot - имя директории с проектом).  
- в этом скрине перейти в директорию, где расположен исполняемый jar-файл:  cd /root/docBot/out/artifacts/docBot_jar,  
- после чего ввести: java -jar docBot.jar  
5. В случае успеха в терминале PuTTY отобразятся те же процессы, что и в консоли среды разработки. После можно выйти из клиента.  

### Особая благодарность:
[Доброму волшебнику](https://github.com/jamalakhov), преобразившему код бота и тем многому меня научившему  
[Andrew](https://github.com/MonsterDeveloper)  
[Sergey Kozyrev](https://github.com/taksebe-official)  
